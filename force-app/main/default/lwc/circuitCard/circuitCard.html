<template>
  <!-- Main card container -->
  <article class="slds-card">
    <!-- Card header -->
    <div class="slds-card__header slds-grid">
      <header class="slds-media slds-media_center slds-has-flexi-truncate">
        <div class="slds-media__figure">
          <!-- Icon for account -->
          <span
            class="slds-icon_container"
            title="circuit"
          >
            <svg class="slds-icon slds-icon_small" aria-hidden="true">
              <use
                xlink:href="/assets/icons/standard-sprite/svg/symbols.svg#account"
              ></use>
            </svg>
            <span class="slds-assistive-text">Circuit</span>
          </span>
        </div>
        <div class="slds-media__body">
          <!-- Header title -->
          <h2 class="slds-card__header-title">
            <a
              href="#"
              class="slds-card__header-link slds-truncate"
              title="Circuits"
            >
              <span>Circuits</span>
            </a>
          </h2>
        </div>
      </header>
    </div>
    <!-- Lightning layout for circuits -->
    <lightning-layout
      multiple-rows="true"
      class="slds-card__body slds-card__body_inner slds-grid_align-center"
    >
      <template for:each={circuits} for:item="circuit">
        <!-- Individual circuit layout item -->
        <lightning-layout-item
          key={circuit.id}
          size="3"
          class="slds-card_boundary slds-m-around_x-small"
        >
          <div class="slds-card__header slds-grid">
            <header
              class="slds-media slds-media_center slds-has-flexi-truncate"
            >
              <div class="slds-media__body">
                <!-- Circuit name -->
                <h2 class="slds-card__header-title">
                  <a
                    href="#"
                    class="slds-card__header-link slds-truncate"
                    title="Circuit Name"
                  >
                    <span>{circuit.Name}</span>
                  </a>
                </h2>
              </div>
            </header>
          </div>
          <!-- Circuit image -->
          <div
            class="slds-card__body_inner slds-m-around_large img-container"
          >
            <img
              src={circuit.ImgUrl}
              alt="Circuit Shape"
              class="circuit-shape"
            />
          </div>
          <!-- Footer with button -->
          <footer class="slds-card__footer">
            <lightning-button
              variant="Base"
              label="Open Record"
              onclick={viewRecord}
              value={circuit.Id}
            ></lightning-button>
          </footer>
        </lightning-layout-item>
      </template>
    </lightning-layout>
    <!-- Card footer -->
    <footer class="slds-card__footer">
      <a class="slds-card__footer-action" href="#"
        >View All
        <span class="slds-assistive-text">Circuits</span>
      </a>
    </footer>
  </article>
</template>
